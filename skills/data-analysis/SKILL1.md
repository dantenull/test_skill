---
name: data-analysis
description: Analyze data files. Use when working with CSV, Excel, or JSON data files that need exploration, cleaning, or visualization.
---

# Data Analysis

## Exploration

### EDA

在数据分析中，探索性数据分析（EDA）是理解数据、发现模式、检验假设和准备数据的关键步骤。以下是不涉及代码的核心原则和常用方法：

#### **一、核心原则**

1. **理解业务背景**  
   - 明确分析目标，确保探索方向与业务问题相关。

2. **从整体到细节**  
   - 先把握数据全貌（如分布、规模），再深入局部特征。

3. **保持怀疑态度**  
   - 检查数据质量（缺失、异常、不一致），不盲目信任原始数据。

4. **多维度交叉审视**  
   - 结合多个变量观察关系，避免单一视角的片面结论。

5. **迭代与记录**  
   - EDA是循环过程，需反复调整并记录观察和假设。

---

#### **二、常用探索方法**

##### **1. 数据概览**

   - **数据形状**：记录行数（样本量）、列数（变量数）。
   - **变量类型**：区分数值型、类别型、时间型等。
   - **基础统计量**：对数值变量计算均值、中位数、标准差、分位数等；对类别变量统计频次和占比。

##### **2. 数据质量检查**

   - **缺失值**：识别缺失模式（随机或系统缺失），评估影响。
   - **异常值**：通过分布、散点图或业务逻辑判断异常值，分析其产生原因。
   - **一致性验证**：检查数据格式、单位是否统一，逻辑矛盾（如年龄小于0）。

##### **3. 单变量分析**

   - **数值变量**：观察分布（直方图、箱线图），评估偏度、峰度。
   - **类别变量**：用频数表、条形图查看类别分布，关注稀有类别。

##### **4. 多变量关系探索**

   - **关联分析**：  
     - 数值-数值：散点图、相关性系数（如 Pearson、Spearman）。  
     - 类别-类别：交叉表、卡方检验。  
     - 类别-数值：分组箱线图或小提琴图，比较组间差异。
   - **时间趋势**：绘制时间序列图，分析周期、趋势和突变点。

##### **5. 维度缩减与模式发现**

   - **高维关系**：通过热图展示变量间相关性，或用主成分分析（PCA）探索潜在结构。
   - **聚类观察**：用简单分组（如分位数）或聚类假设，查看数据自然分组。

##### **6. 可视化与图表选择**

   - **分布展示**：直方图、密度图、箱线图。
   - **关系展示**：散点图、热图、分组条形图。
   - **比较展示**：多子图对比、堆叠图。
   - **趋势展示**：折线图、面积图。

---

#### **三、关键注意事项**

1. **避免过早下结论**：EDA 旨在生成假设，而非验证假设。
2. **关注效应大小**：除了统计显著性，需评估实际业务意义。
3. **考虑数据收集过程**：理解数据生成机制，避免解读偏差。
4. **记录所有步骤**：包括发现的异常、假设和待查问题，便于追溯。

---

#### **四、典型工作流程建议**

1. **数据加载与初览** → 2. **质量评估与清理** → 3. **单变量描述** → 4. **双变量/多变量探索** → 5. **深入模式挖掘** → 6. **总结初步发现与假设**。

通过系统性的探索，可以为后续的建模或决策提供扎实的数据基础和方向指引。

### 可用脚本

#### base_analysis.py

如果需要一般性数据概览，可使用base_analysis.py脚本。

用法： python scripts/base_analysis.py \<file\>
