---
name: data-analysis
description: Analyze data files. Use when working with CSV, Excel, or JSON data files that need exploration, cleaning, or visualization.
---

# Data Analysis

## 一、探索数据的核心原则

### 1️⃣ 先理解业务，再看数据

* 数据不是孤立存在的，要明确：

  * 数据来源是什么？
  * 每一行代表什么（人 / 订单 / 事件 / 时间点）？
  * 每个字段在业务上的真实含义？
* **不理解业务，EDA 很容易得出“看似合理但完全错误”的结论**

---

### 2️⃣ 从“整体”到“局部”

推荐顺序：

1. 全量数据的规模、结构
2. 各字段的基本特征
3. 字段之间的关系
4. 特定子集或异常情况

避免一上来就“盯着某几行数据反复看”。

---

### 3️⃣ 先怀疑数据，再相信数据

默认态度：

* 数据可能有：

  * 缺失
  * 错误
  * 重复
  * 异常
  * 不一致的口径
* **EDA 的重要任务是找数据问题，不是掩盖问题**

---

### 4️⃣ 多角度交叉验证

* 不依赖单一统计量或单一图形
* 同一个结论，最好：

  * 用统计量 + 分布
  * 用整体 + 分组
  * 用时间 + 非时间角度验证

---

### 5️⃣ 可解释性优先于“高级”

* 简单的方法（均值、分布、分组）往往比复杂方法更有价值
* EDA 不是炫技，而是**让你和他人真正“看懂”数据**

---

## 二、探索数据的常用方法（系统分类）

---

### ① 数据整体认知（全局视角）

关注问题：

* 数据量级：多少行、多少列
* 数据类型：数值 / 类别 / 时间 / 文本
* 时间跨度：是否连续？是否有空档？
* 主键是否唯一？

典型思考：

* 这份数据能不能作为“事实表”？
* 有没有天然的粒度问题（例如：一行到底是一条订单，还是一个订单项）？

---

### ② 单变量分析（每个字段分别看）

### 数值型变量

重点关注：

* 中心趋势：均值、中位数
* 离散程度：极差、方差、分位数
* 分布形态：

  * 是否偏态（左偏 / 右偏）
  * 是否多峰
* 异常值：

  * 是否存在明显极端值
  * 异常值是否合理（业务解释）

思考：

* 这个字段是否需要变换（如对数）？
* 均值是否具有代表性？

---

### 类别型变量

关注：

* 取值种类数（基数）
* 每个类别的频率
* 是否存在“长尾类别”或“无意义类别”

思考：

* 类别是否过多（是否需要合并）？
* 是否存在拼写不一致、口径不同的问题？

---

### 时间变量

关注：

* 是否连续
* 是否存在缺失区间
* 是否存在周期性（周、月、季）

思考：

* 是否需要按时间聚合？
* 是否存在明显的趋势或结构性变化？

---

### ③ 缺失值与数据质量分析

重点问题：

* 哪些字段有缺失？
* 缺失比例是多少？
* 缺失是：

  * 随机缺失？
  * 系统性缺失？（如某类用户必然缺）

思考：

* 缺失本身是否包含信息？
* 缺失是否与其他字段有关？

---

### ④ 异常值与异常模式

不仅看“异常点”，还要看：

* 异常**比例**
* 异常**集中在哪些分组或时间段**
* 异常是否符合业务逻辑

区分：

* 数据错误（应修正或删除）
* 真实但极端的业务情况（应保留）

---

### ⑤ 多变量关系分析（变量之间）

### 数值 × 数值

关注：

* 相关性（线性 / 非线性）
* 是否存在明显分段或聚类

避免：

* 只看相关系数，不看分布

---

### 类别 × 数值

关注：

* 不同类别下数值分布是否有显著差异
* 是否存在某类“贡献过大 / 过小”

思考：

* 是否存在分群分析的价值？

---

### 类别 × 类别

关注：

* 是否存在强关联或排斥关系
* 是否存在稀疏组合（几乎不出现）

---

### ⑥ 分组与切片（非常重要）

常见分组维度：

* 时间
* 用户类型
* 地区
* 产品类别

通过分组可以发现：

* 整体看不到的趋势
* 被平均值掩盖的结构性差异

经典原则：

> **整体正常 ≠ 每个分组正常**

---

### ⑦ 时间序列视角（如果有时间）

关注：

* 趋势（长期上升 / 下降）
* 季节性（周期）
* 突变点（异常时间）

思考：

* 是否存在政策、版本、活动等外部影响？
* 数据口径是否在某个时间点发生变化？

---

### ⑧ 对比与基准（不要只看“绝对值”）

常见对比：

* 同比 / 环比
* 不同人群对比
* 实际值 vs 预期值

EDA 中非常重要的一点是：

> **没有对比的数据，信息密度很低**

---

## 三、EDA 的典型输出物

探索数据不是“看一眼就结束”，而是要沉淀结果：

* ✅ 数据质量问题清单
* ✅ 关键变量分布特征总结
* ✅ 异常现象与可能原因
* ✅ 有价值的业务假设
* ✅ 后续分析 / 建模建议

---

## 四、一个实用的 EDA 思维口诀

> **看结构 → 查质量 → 看分布 → 找异常 → 探关系 → 做对比 → 提假设**

# 可用脚本

## base_analysis.py

只在需要一般性数据概览时使用。

用法： python scripts/base_analysis.py \<file\>
